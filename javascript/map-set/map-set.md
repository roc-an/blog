# “可圈可点”的 Map 与 Set

## （一）Map 和 Set 是 ES6 中新加入的数据类型

新出来一块知识点首先要明确的就是它在语言的知识点网络中的位置。

JavaScript 由 3 部分组成：

* ECMAScript 核心语法（简称 ES）：变量、控制语句、运算符、各种数据类型等。这些是其他语言都要有的；
* DOM API：用于操作 DOM 元素
* BOM API：用于操作浏览器

其中能把 ES 标准中数据类型的细分说得清楚的人并不多。

数据类型主要分两种：

* 基本数据类型（也叫原始数据类型）：`undefined`、`null`、`Boolean`、`Number`、`String`、`Symbol`、`BigInt` 共 7 种；
* 引用数据类型

其中**引用数据类型又可以再分为两种，分别是“基本引用类型”和“集合引用类型”**，本篇文章的 `Map` 和 `Set` 就是属于“集合引用类型”。我把引用数据类型的细分列出来：

* 基本引用类型（4）：
  * `Date` 类型：时间日期
  * `RegExp` 类型：正则表达式
  * 包装类型（也叫原始值包装类型）3 种：每当用到某个原始值（也就是基本数据类型值）的属性或方法时，JS 引擎都会创建一个相应的包装类型实例，从而暴露出操作该原始值的各种方法
    * `Boolean`
    * `Number`
    * `String`
  * 单例内置对象（内置对象指的是任何由 ECMAScript 实现提供、与宿主环境无关，并在 ECMAScript 程序开始执行时就存在的对象）
    * `Global`：无法用代码显式访问，它是用来“兜底”的，所针对的是不属于任何对象的属性和方法。
      * `Global` 对象的属性：特殊值比如 `undefined`、`NaN`、`Infinity` 等，以及所有原生引用类型函数，如 `Object`、`Function` 等，都是 `Global` 对象的属性；
      * `Global` 对象的方法：`isNaN()`、`isFinite()`、`parseInt()`、`parseFloat()`，以及编码方法 `encodeURI()` 等，`eval()` 这些都属于 `Global` 对象的方法；
      * 虽然 `Global` 对象无法显式访问，但浏览器将 `window` 对象实现为 `Global` 对象的代理，所有全局作用域中声明的变量和函数都变成了 `window` 的属性；
    * `Math`：保存着数学公式，提供辅助计算的属性和方法
* 集合引用类型（8）：
  * `Object`
  * `Array`
  * `Function`
  * 定型数组（typed array）：是新增的类型，用于提升向原生库传输数据的效率，是一种特殊的包含数值类型的数组
  * `Map`
  * `WeakMap`
  * `Set`
  * `WeakSet`

这样列下来后就比较清晰了，**本文的主角 `Map` 和 `Set`，是属于 JS 核心语法 ECMAScript 中数据类型这块，细分下去，它们是「引用数据类型」中「集合引用类型」的一员**。
