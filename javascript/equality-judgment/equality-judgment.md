# JS 中的相等性判断

程序员大多是有着一颗追求完美的心的，所以为什么 FaceBook 办公室有这样一条标语——Done is better than perfect，比完美更重要的是完成。

而且往往不仅追求完美，我们还恪守严谨。就比如平时写代码，写 `===` 大多好于写 `==`，码着严谨的代码，心里也就逐渐踏实了很多。

但殊不知 `===`（叫“严格等于”）也有不够严格的时候，就比如：

``` js
NaN === NaN // false
+0 === -0 // true
```

我第一次见到上面这结果也是一脸懵逼的，虽然平时写业务几乎碰不到，但没办法，偶尔有些公司笔试题里还是会蹦出来这些让你心里咯噔一下。

由于严格等于不够严格，于是 ES6 中新增了个对象方法 `Object.is(val1, val2)`，它与 `===` 的判等行为基本一致，只不过对于 `NaN` 和 `+0`、`-0` 来说：

``` js
Object.is(NaN, NaN) // true
Object.is(+0, -0) // false
```

有了 `Object.is()`，终于能够所想即所得了。

但关于“JS 中相等性判断”，似乎还有很多门道，于是写了这篇文章来让自己心里更踏实些。

## （一）相等性比较算法

啥？我要比较个相等不相等，也需要算法？？？还真需要，而且在 ECMAScript 标准中还明确列出了这些相等性比较的算法。这里我把它们索引出来：

* [严格相等比较算法](https://262.ecma-international.org/5.1/#sec-11.9.6)
* [非严格相等比较算法](https://262.ecma-international.org/5.1/#sec-11.9.3)
* [同值算法](https://262.ecma-international.org/5.1/#sec-9.12)

读史使人明智，读算法使人头晕。不过简单了解下算法也还是对我们写代码很有帮助的，况且了解后简历里还可以信誓旦旦地写上熟悉 ES 标准...

### 隐式转换

