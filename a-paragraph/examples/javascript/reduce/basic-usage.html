<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Array.prototype.reduce</title>
</head>
<body>
<script>
  // 一般的数组求和函数
  // function sum(arr) {
  //   let dist = 0; // 需要新定义一个变量
  //   arr.forEach(n => dist += n)
  //   return dist;
  // }

  // const arr = [10, 20, 30, 40, 50];

  // 示例 1：使用 reduce 进行数组求和
  // 参数 1：函数
  // 参数 2：初始化值
  // const sum1 = arr.reduce((sum, curVal, index, arr) => {
  //   console.log('>>>>> reduce');

  //   console.log('sum', sum)
  //   console.log('curVal', curVal)
  //   console.log('index', index)
  //   console.log('arr', arr)

  //   // 返回值会作为下一次执行时的第一个参数
  //   // 初始值是 reduce 的第二个参数，也就是 0
  //   return sum + curVal;
  // }, 0)

  // console.log(sum(arr));
  // console.log(sum1);

  // 示例 2：数组计数
  // const arr1 = [10, 20, 30, 40, 50, 10, 20, 30, 20]
  // const target = 20; // 计数数组中有多少个 20
  // const count = arr1.reduce((count, val) => val === target ? count + 1 : count, 0);
  // console.log('count', count);

  // 示例 3：输出字符串
  const arr2 = [
    { name: '张三', age: 20 },
    { name: '李四', age: 21 },
    { name: '王五', age: 22 },
  ];
  const str = arr2.reduce((str, item) => `${str}${item.name}-${item.age}\n`, '')
  console.log(str);
</script>
</body>
</html>
