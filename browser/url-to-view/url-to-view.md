# 从浏览器地址栏中输入 URL 到看到页面，中间经历了什么？

## （一）概述

这是一道非常综合的面试题，内容涉及了浏览器底层原理、网络通信以及页面渲染相关的知识，可以考察应聘者的技术视野和技术深度。

另外抛开面试不谈，如果能够理解从输入 URL 到页面渲染完成的整个过程细节，对于我们进行 Web 性能优化、问题定位都是非常有帮助的，可以让我们站在更高的角度去看待自己写的代码。

这篇文章会对详细流程进行分析，并对涉及到的相关知识进行较详细的讲解。

无论是输入 URL，或是进行网络请求，还是渲染页面，进行这些操作的都是浏览器。现代浏览器采用的都是**多进程架构**，不同进程负责不同的事情，要想把整体流程理解透彻，首先要搞清楚浏览器中有哪些进程，分别负责处理什么事情。

## （二）浏览器的多进程架构

### 线程的并行处理执行

先从线程说起，**线程（thread）是操作系统能够进行运算调度的最小单位**。也就是说，如果我们的电脑要执行某项任务，没有比线程更小的拆分粒度了。

那么问题来了，执行一项任务，大任务可以拆分成小任务给不同的线程去执行，那线程可以并行处理任务吗？如果可以，那不就能大大缩短执行这个大任务的时间咯？

答案是可以的，**线程可以并行处理任务**。

比如下面这 3 行代码就包含了 3 个要处理的小任务：

```js
let a = 1 + 2; // 任务1：计算 1 + 2 的值，赋值给变量 a
let b = 3 / 4; // 任务2：计算 3 / 4 的值，赋值给变量 b
console.log(a, b); // 任务3：浏览器控制台打印变量 a 和 b 的值
```

如果用**单线程**来处理，需要 3 步，即一个线程依次执行上面的 3 行代码。

但如果用**多线程**来处理，仅需要 2 步：

1. 使用 2 个线程，分别执行任务 1 和任务 2，得到赋值后的变量 a 和变量 b
2. 使用 1 个线程，执行任务 3，打印变量

所以，**线程的并行处理执行可以大大提升性能。**
